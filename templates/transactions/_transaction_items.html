{% for item in items %}
<div class="p-3 border rounded mb-3 relative bg-gray-50 dark:bg-gray-800 dark:text-gray-100">
    <div class="grid grid-cols-5 gap-4">
        <div>
            <label class="block text-sm font-medium text-gray-700 dark:text-gray-300">Item type</label>
            <select name="item_type[]" class="form-control dark:bg-gray-700 dark:text-white">
                <option value="Article" {% if item.item_type == 'Article' %}selected{% endif %}>Article</option>
                <option value="Component" {% if item.item_type == 'Component' %}selected{% endif %}>Component</option>
            </select>
        </div>
        <div>
            <label class="block text-sm font-medium text-gray-700 dark:text-gray-300">Product</label>
            <select name="product[]" class="form-control product-select dark:bg-gray-700 dark:text-white">
                <option value="">---------</option>
                {% for p in products %}
                    <option value="{{ p.id }}" {% if item.product and p.id == item.product.id %}selected{% endif %}>{{ p.item_name }}</option>
                {% endfor %}
            </select>
        </div>
        <div>
            <label class="block text-sm font-medium text-gray-700 dark:text-gray-300">Quantity</label>
            <input type="number" name="quantity[]" min="1" class="form-control quantity-field dark:bg-gray-700 dark:text-white" value="{{ item.quantity }}">
        </div>
        <div>
            <label class="block text-sm font-medium text-gray-700 dark:text-gray-300">Price</label>
            <input type="number" name="price[]" step="0.01" class="form-control price-input dark:bg-gray-700 dark:text-white" value="{{ item.price }}">
        </div>
        <div class="flex items-center">
            <button type="button" class="remove-item inline-flex items-center mt-6 text-red-500 hover:text-red-700 focus:outline-none">
                <svg class="w-4 h-4 mr-1" fill="currentColor" viewBox="0 0 20 20">
                    <path d="M6 3V4H4V6H16V4H14V3H6ZM6 6V15C6 16.1046 6.89543 17 8 17H12C13.1046 17 14 16.1046 14 15V6H6Z"/>
                </svg>
                Remove
            </button>
        </div>
    </div>
</div>
{% endfor %}
